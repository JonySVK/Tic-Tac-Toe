# Created by Jan Ivicic Â© 2025 - 2026

class Board:
    def __init__(self, scores, player_x, player_o, board_size):
        self.board_size = board_size

        if self.board_size == 3:
            self.scores = scores
            self.player_x = player_x
            self.player_o = player_o

            self.board = ["-"] * 9

            self.positions_cirle = {
                0 : (100, 300),
                1 : (300, 300),
                2 : (500, 300),
                3 : (100, 500),
                4 : (300, 500),
                5 : (500, 500),
                6 : (100, 700),
                7 : (300, 700),
                8 : (500, 700)
            }

            self.positions_cross = {
                0 : (((50, 250), (150, 350)), ((150, 250), (50, 350))),
                1 : (((250, 250), (350, 350)), ((350, 250), (250, 350))),
                2 : (((450, 250), (550, 350)), ((550, 250), (450, 350))),
                3 : (((50, 450), (150, 550)), ((150, 450), (50, 550))),
                4 : (((250, 450), (350, 550)), ((350, 450), (250, 550))),
                5 : (((450, 450), (550, 550)), ((550, 450), (450, 550))),
                6 : (((50, 650), (150, 750)), ((150, 650), (50, 750))),
                7 : (((250, 650), (350, 750)), ((350, 650), (250, 750))),
                8 : (((450, 650), (550, 750)), ((550, 650), (450, 750)))
            }

            self.positions_line = {
                0 : ((10, 300), (590, 300)),
                1 : ((10, 500), (590, 500)),
                2 : ((10, 700), (590, 700)),
                3 : ((100, 210), (100, 790)),
                4 : ((300, 210), (300, 790)),
                5 : ((500, 210), (500, 790)),
                6 : ((20, 220), (580, 780)),
                7 : ((580, 220), (20, 780))
            }

            self.winning_combinations = [
                    (0, 1, 2),
                    (3, 4, 5),
                    (6, 7, 8),
                    (0, 3, 6),
                    (1, 4, 7),
                    (2, 5, 8),
                    (0, 4, 8),
                    (2, 4, 6)
                ]
            
        elif self.board_size == 4:
            self.scores = scores
            self.player_x = player_x
            self.player_o = player_o

            self.board = ["-"] * 16

            self.positions_cirle = {
                0 : (75, 275),
                1 : (225, 275),
                2 : (375, 275),
                3 : (525, 275),
                4 : (75, 425),
                5 : (225, 425),
                6 : (375, 425),
                7 : (525, 425),
                8 : (75, 575),
                9 : (225, 575),
                10: (375, 575),
                11: (525, 575),
                12: (75, 725),
                13: (225, 725),
                14: (375, 725),
                15: (525, 725)
            }

            self.positions_cross = {
                0 : (((37.5, 237.5), (112.5, 312.5)), ((112.5, 237.5), (37.5, 312.5))),
                1 : (((187.5, 237.5), (262.5, 312.5)), ((262.5, 237.5), (187.5, 312.5))),
                2 : (((337.5, 237.5), (412.5, 312.5)), ((412.5, 237.5), (337.5, 312.5))),
                3 : (((487.5, 237.5), (562.5, 312.5)), ((562.5, 237.5), (487.5, 312.5))),
                4 : (((37.5, 387.5), (112.5, 462.5)), ((112.5, 387.5), (37.5, 462.5))),
                5 : (((187.5, 387.5), (262.5, 462.5)), ((262.5, 387.5), (187.5, 462.5))),
                6 : (((337.5, 387.5), (412.5, 462.5)), ((412.5, 387.5), (337.5, 462.5))),
                7 : (((487.5, 387.5), (562.5, 462.5)), ((562.5, 387.5), (487.5, 462.5))),
                8 : (((37.5, 537.5), (112.5, 612.5)), ((112.5, 537.5), (37.5, 612.5))),
                9 : (((187.5, 537.5), (262.5, 612.5)), ((262.5, 537.5), (187.5, 612.5))),
                10: (((337.5, 537.5), (412.5, 612.5)), ((412.5, 537.5), (337.5, 612.5))),
                11: (((487.5, 537.5), (562.5, 612.5)), ((562.5, 537.5), (487.5, 612.5))),
                12: (((37.5, 687.5), (112.5, 762.5)), ((112.5, 687.5), (37.5, 762.5))),
                13: (((187.5, 687.5), (262.5, 762.5)), ((262.5, 687.5), (187.5, 762.5))),
                14: (((337.5, 687.5), (412.5, 762.5)), ((412.5, 687.5), (337.5, 762.5))),
                15: (((487.5, 687.5), (562.5, 762.5)), ((562.5, 687.5), (487.5, 762.5)))
            }

            self.positions_line = {
                0 : ((10, 275), (790, 275)),
                1 : ((10, 425), (790, 425)),
                2 : ((10, 575), (790, 575)),
                3 : ((10, 725), (790, 725)),
                4 : ((75, 210), (75, 790)),
                5 : ((225, 210), (225, 790)),
                6 : ((375, 210), (375, 790)),
                7 : ((525, 210), (525, 790)),
                8: ((10, 210), (590, 790)),
                9: ((590, 210), (10, 790))
            }

            self.winning_combinations = [
                    (0, 1, 2, 3),
                    (4, 5, 6, 7),
                    (8, 9, 10, 11),
                    (12, 13, 14, 15),
                    (0, 4, 8, 12),
                    (1, 5, 9, 13),
                    (2, 6, 10, 14),
                    (3, 7, 11, 15),
                    (0, 5, 10, 15),
                    (3, 6, 9, 12)
                    ]

        elif self.board_size == 5:
            self.scores = scores
            self.player_x = player_x
            self.player_o = player_o

            self.board = ["-"] * 25

            self.positions_cirle = {
                0 : (60, 260),
                1 : (180, 260),
                2 : (300, 260),
                3 : (420, 260),
                4 : (540, 260),
                5 : (60, 380),
                6 : (180, 380),
                7 : (300, 380),
                8 : (420, 380),
                9 : (540, 380),
                10: (60, 500),
                11: (180, 500),
                12: (300, 500),
                13: (420, 500),
                14: (540, 500),
                15: (60, 620),
                16: (180, 620),
                17: (300, 620),
                18: (420, 620),
                19: (540, 620),
                20: (60, 740),
                21: (180, 740),
                22: (300, 740),
                23: (420, 740),
                24: (540, 740)
            }

            self.positions_cross = {
                0 : (((30, 230), (90, 290)), ((90, 230), (30, 290))),
                1 : (((150, 230), (210, 290)), ((210, 230), (150, 290))),
                2 : (((270, 230), (330, 290)), ((330, 230), (270, 290))),
                3 : (((390, 230), (450, 290)), ((450, 230), (390, 290))),
                4 : (((510, 230), (570, 290)), ((570, 230), (510, 290))),
                5 : (((30, 350), (90, 410)), ((90, 350), (30, 410))),
                6 : (((150, 350), (210, 410)), ((210, 350), (150, 410))),
                7 : (((270, 350), (330, 410)), ((330, 350), (270, 410))),
                8 : (((390, 350), (450, 410)), ((450, 350), (390, 410))),
                9 : (((510, 350), (570, 410)), ((570, 350), (510, 410))),
                10: (((30, 470), (90, 530)), ((90, 470), (30, 530))),
                11: (((150, 470), (210, 530)), ((210, 470), (150, 530))),
                12: (((270, 470), (330, 530)), ((330, 470), (270, 530))),
                13: (((390, 470), (450, 530)), ((450, 470), (390, 530))),
                14: (((510, 470), (570, 530)), ((570, 470), (510, 530))),
                15: (((30, 590), (90, 650)), ((90, 590), (30, 650))),
                16: (((150, 590), (210, 650)), ((210, 590), (150, 650))),
                17: (((270, 590), (330, 650)), ((330, 590), (270, 650))),
                18: (((390, 590), (450, 650)), ((450, 590), (390, 650))),
                19: (((510, 590), (570, 650)), ((570, 590), (510, 650))),
                20: (((30, 710), (90, 770)), ((90, 710), (30, 770))),
                21: (((150, 710), (210, 770)), ((210, 710), (150, 770))),
                22: (((270, 710), (330, 770)), ((330, 710), (270, 770))),
                23: (((390, 710), (450, 770)), ((450, 710), (390, 770))),
                24: (((510, 710), (570, 770)), ((570, 710), (510, 770)))
            }

            self.positions_line = {
                0 : ((10, 260), (590, 260)),
                1 : ((10, 380), (590, 380)),
                2 : ((10, 500), (590, 500)),
                3 : ((10, 620), (590, 620)),
                4 : ((10, 740), (590, 740)),
                5 : ((60, 210), (60, 790)),
                6 : ((180, 210), (180, 790)),
                7 : ((300, 210), (300, 790)),
                8 : ((420, 210), (420, 790)),
                9 : ((540, 210), (540, 790)),
                10: ((10, 210), (590, 790)),
                11: ((590, 210), (10, 790))
            }

            self.winning_combinations = [
                    (0, 1, 2, 3, 4),
                    (5, 6, 7, 8, 9),
                    (10, 11, 12, 13, 14),
                    (15, 16, 17, 18, 19),
                    (20, 21, 22, 23, 24),
                    (0, 5, 10, 15, 20),
                    (1, 6, 11, 16, 21),
                    (2, 7, 12, 17, 22),
                    (3, 8, 13, 18, 23),
                    (4, 9, 14, 19, 24),
                    (0, 6, 12, 18, 24),
                    (4, 8, 12, 16, 20)
            ]
    
    def check_winner(self, brd):
        for i in self.winning_combinations:
            self.win = False

            if self.board_size == 3:
                if brd[i[0]] == brd[i[1]] == brd[i[2]] and brd[i[0]] in ("X", "O"):
                    self.win = True
            elif self.board_size == 4:
                if brd[i[0]] == brd[i[1]] == brd[i[2]] == brd[i[3]] and brd[i[0]] in ("X", "O"):
                    self.win = True
            elif self.board_size == 5:
                if brd[i[0]] == brd[i[1]] == brd[i[2]] == brd[i[3]] == brd[i[4]] and brd[i[0]] in ("X", "O"):
                    self.win = True

            if self.win is True:
                if self.scores.added == False:
                    self.scores.add(brd[i[0]])
                    self.player_x.update_score()
                    self.player_o.update_score()
                    self.scores.added = True
                return True, brd[i[0]], i  
        return False, None, None